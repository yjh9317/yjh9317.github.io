<!DOCTYPE html><html lang="ko" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="관찰자 패턴" /><meta property="og:locale" content="ko" /><meta name="description" content="옵저버 패턴" /><meta property="og:description" content="옵저버 패턴" /><link rel="canonical" href="https://yjh9317.github.io/posts/%EA%B4%80%EC%B0%B0%EC%9E%90-%ED%8C%A8%ED%84%B4/" /><meta property="og:url" content="https://yjh9317.github.io/posts/%EA%B4%80%EC%B0%B0%EC%9E%90-%ED%8C%A8%ED%84%B4/" /><meta property="og:site_name" content="yjh9317" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-06-25T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="관찰자 패턴" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-06-17T15:34:32+09:00","datePublished":"2023-06-25T00:00:00+09:00","description":"옵저버 패턴","headline":"관찰자 패턴","mainEntityOfPage":{"@type":"WebPage","@id":"https://yjh9317.github.io/posts/%EA%B4%80%EC%B0%B0%EC%9E%90-%ED%8C%A8%ED%84%B4/"},"url":"https://yjh9317.github.io/posts/%EA%B4%80%EC%B0%B0%EC%9E%90-%ED%8C%A8%ED%84%B4/"}</script><title>관찰자 패턴 | yjh9317</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="yjh9317"><meta name="application-name" content="yjh9317"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> </a></div><div class="site-title mt-3"> <a href="/">yjh9317</a></div><div class="site-subtitle font-italic">코딩열심히하려는사람</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/yjh9317" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>관찰자 패턴</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>관찰자 패턴</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1687618800" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jun 25, 2023 </em> </span> <span> Updated <em class="" data-ts="1750142072" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jun 17, 2025 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/username">Yang jeong hyeon</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2145 words"> <em>11 min</em> read</span></div></div></div><div class="post-content"><h1 id="옵저버-패턴">옵저버 패턴</h1><ul><li><p>한 객체(주체, Subject)의 상태가 변할 때, 그 객체에 의존하는 다른 객체들(옵저버, Observer)에게 변화를 자동으로 알려주고 업데이트하는 행위 디자인 패턴</p><li>이는 ‘일대다(one-to-many)’ 의존 관계를 정의하는 가장 대표적인 방법이다.<li>주체는 자신을 관찰하는 옵저버가 누구인지, 몇 명인지 알 필요 없이 그저 “나의 상태가 변했다!”고 방송(broadcast)만 하면 된다.<li><p>그러면 이 방송을 ‘구독’하고 있던 모든 옵저버가 각자 알아서 필요한 동작을 수행한다.</p><li>이 패턴의 핵심 목표는 주체와 옵저버 간의 결합도를 낮추는 것이다.<li>이를 통해 시스템을 유연하고 확장 가능하게 만들 수 있다.<li>유튜브 채널을 ‘구독’하면 새 영상이 올라올 때마다 알림이 오는 것이 바로 이 패턴의 완벽한 실생활 예시다.</ul><h2 id="시나리오-플레이어-체력과-ui-연동하기"><span class="mr-2">시나리오: 플레이어 체력과 UI 연동하기</span><a href="#시나리오-플레이어-체력과-ui-연동하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>게임에서 플레이어의 체력이 변할 때마다 화면의 체력 바(Health Bar) UI가 실시간으로 갱신되어야 한다고 가정해보자.</ul><h3 id="1-주체subject-정의"><span class="mr-2">1. 주체(Subject) 정의</span><a href="#1-주체subject-정의" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>상태 변화가 일어나는 주체는 Player 클래스다. Player는 자신의 체력(health)을 멤버 변수로 가진다.</ul><div class="language-c++ highlighter-rouge"><div class="code-header"> <span data-label-text="C++"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Player</span> <span class="p">{</span>
<span class="nl">private:</span>
    <span class="kt">int</span> <span class="n">health</span><span class="p">;</span>
<span class="nl">public:</span>
    <span class="n">Player</span><span class="p">()</span> <span class="o">:</span> <span class="n">health</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="p">{}</span>

    <span class="kt">void</span> <span class="n">TakeDamage</span><span class="p">(</span><span class="kt">int</span> <span class="n">damage</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">health</span> <span class="o">-=</span> <span class="n">damage</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">health</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="n">health</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"[Player] 데미지를 입었습니다! 현재 체력: "</span> <span class="o">&lt;&lt;</span> <span class="n">health</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

        <span class="c1">// 체력이 변경되었음을 '누군가'에게 알려야 한다.</span>
    <span class="p">}</span>
    
    <span class="kt">int</span> <span class="n">GetHealth</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">health</span><span class="p">;</span> <span class="p">}</span>
<span class="p">};</span>
</pre></table></code></div></div><h3 id="2-문제점-강한-결합"><span class="mr-2">2. 문제점: 강한 결합</span><a href="#2-문제점-강한-결합" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>가장 단순한 방법은 Player가 HealthBarUI 객체를 직접 참조하여 Update 메서드를 호출하는 것이다.</ul><div class="language-c++ highlighter-rouge"><div class="code-header"> <span data-label-text="C++"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="c1">// 안티 패턴: 주체와 옵저버의 강한 결합</span>
<span class="k">class</span> <span class="nc">Player</span> <span class="p">{</span>
<span class="nl">private:</span>
    <span class="n">HealthBarUI</span><span class="o">*</span> <span class="n">healthBar</span><span class="p">;</span> <span class="c1">// UI 객체를 직접 참조</span>
<span class="nl">public:</span>
    <span class="kt">void</span> <span class="n">TakeDamage</span><span class="p">(</span><span class="kt">int</span> <span class="n">damage</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">health</span> <span class="o">-=</span> <span class="n">damage</span><span class="p">;</span>
        <span class="c1">// ...</span>
        <span class="c1">// UI의 업데이트 메서드를 직접 호출한다.</span>
        <span class="n">healthBar</span><span class="o">-&gt;</span><span class="n">UpdateDisplay</span><span class="p">(</span><span class="n">health</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></table></code></div></div><ul><li>이 방식은 Player라는 핵심 게임 로직이 HealthBarUI라는 UI의 구체적인 구현에 <strong>강하게 결합(Tightly Coupled)</strong>되게 만든다.<li>만약 체력이 변할 때 사운드도 재생해야 하고, 화면에 붉은색 이펙트도 띄워야 한다면? Player 클래스는 SoundSystem, ScreenEffectSystem 등 온갖 다른 시스템들을 직접 참조해야 하고, 코드는 금세 스파게티처럼 엉망이 될 것이다.</ul><h2 id="해결책-옵저버-패턴으로-분리하기"><span class="mr-2">해결책: 옵저버 패턴으로 분리하기</span><a href="#해결책-옵저버-패턴으로-분리하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>옵저버 패턴은 이 문제를 깔끔하게 해결한다. C++에는 내장된 이벤트 시스템이 없으므로, Boost.Signals2와 같은 검증된 라이브러리를 사용하는 것이 일반적이고 효과적이다.<li><p>이 라이브러리는 <strong>시그널(Signal)</strong>과 슬롯(Slot) 개념을 제공한다.</p><ul><li><code class="language-plaintext highlighter-rouge">시그널(Signal)</code>: 주체가 발생시키는 이벤트. “상태가 변했다!”는 방송 채널이다.<li><code class="language-plaintext highlighter-rouge">슬롯(Slot)</code>: 시그널에 연결(connect)되는 함수. 이벤트가 발생했을 때 실행될 콜백 함수다.</ul></ul><h3 id="1-주체subject에-시그널-추가하기"><span class="mr-2">1. 주체(Subject)에 시그널 추가하기</span><a href="#1-주체subject에-시그널-추가하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>Player 클래스에 체력이 변경되었음을 알리는 OnHealthChanged 시그널을 추가한다.</ul><div class="language-c++ highlighter-rouge"><div class="code-header"> <span data-label-text="C++"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">&lt;boost/signals2.hpp&gt;</span><span class="cp">
</span>
<span class="k">class</span> <span class="nc">Player</span> <span class="p">{</span>
<span class="nl">private:</span>
    <span class="kt">int</span> <span class="n">health</span><span class="p">;</span>
<span class="nl">public:</span>
    <span class="c1">// 시그널 정의: int 타입(현재 체력)을 인자로 받는 이벤트를 발생시킨다.</span>
    <span class="n">boost</span><span class="o">::</span><span class="n">signals2</span><span class="o">::</span><span class="n">signal</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">OnHealthChanged</span><span class="p">;</span>

    <span class="n">Player</span><span class="p">()</span> <span class="o">:</span> <span class="n">health</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="p">{}</span>

    <span class="kt">void</span> <span class="n">TakeDamage</span><span class="p">(</span><span class="kt">int</span> <span class="n">damage</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">health</span> <span class="o">-=</span> <span class="n">damage</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">health</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="n">health</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"[Player] 데미지를 입었습니다! 현재 체력: "</span> <span class="o">&lt;&lt;</span> <span class="n">health</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

        <span class="c1">// 체력이 변경되었음을 시그널을 통해 방송한다.</span>
        <span class="c1">// 누가 이 방송을 듣는지는 전혀 신경 쓰지 않는다.</span>
        <span class="n">OnHealthChanged</span><span class="p">(</span><span class="n">health</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="kt">int</span> <span class="n">GetHealth</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">health</span><span class="p">;</span> <span class="p">}</span>
<span class="p">};</span>
</pre></table></code></div></div><h3 id="2-옵저버observer가-시그널을-구독하기"><span class="mr-2">2. 옵저버(Observer)가 시그널을 구독하기</span><a href="#2-옵저버observer가-시그널을-구독하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>이제 Player의 상태 변화에 반응해야 하는 옵저버들을 구현한다.<li>이들은 Player를 직접 아는 대신, Player의 시그널에 자신의 함수(슬롯)를 연결(구독)하기만 하면 된다.</ul><div class="language-c++ highlighter-rouge"><div class="code-header"> <span data-label-text="C++"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre><td class="rouge-code"><pre><span class="c1">// 옵저버 1: 체력 바 UI</span>
<span class="k">class</span> <span class="nc">HealthBarUI</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="c1">// 생성 시, 관찰할 Player의 시그널에 자신의 멤버 함수를 연결(구독)한다.</span>
    <span class="n">HealthBarUI</span><span class="p">(</span><span class="n">Player</span><span class="o">&amp;</span> <span class="n">player</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">player</span><span class="p">.</span><span class="n">OnHealthChanged</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="p">[</span><span class="k">this</span><span class="p">](</span><span class="kt">int</span> <span class="n">newHealth</span><span class="p">)</span> <span class="p">{</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">UpdateDisplay</span><span class="p">(</span><span class="n">newHealth</span><span class="p">);</span> <span class="p">}</span>
        <span class="p">);</span>
    <span class="p">}</span>

    <span class="kt">void</span> <span class="n">UpdateDisplay</span><span class="p">(</span><span class="kt">int</span> <span class="n">health</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"[HealthBar UI] 체력 바 갱신 -&gt; "</span> <span class="o">&lt;&lt;</span> <span class="n">health</span> <span class="o">&lt;&lt;</span> <span class="s">"%"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// 옵저버 2: 사운드 시스템</span>
<span class="k">class</span> <span class="nc">SoundSystem</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">SoundSystem</span><span class="p">(</span><span class="n">Player</span><span class="o">&amp;</span> <span class="n">player</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">player</span><span class="p">.</span><span class="n">OnHealthChanged</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="p">[](</span><span class="kt">int</span> <span class="n">newHealth</span><span class="p">)</span> <span class="p">{</span>
                <span class="c1">// 체력이 50 미만이면 경고음 재생</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">newHealth</span> <span class="o">&lt;</span> <span class="mi">50</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"[Sound System] 위험! 경고음 재생!"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></table></code></div></div><h3 id="3-전체적인-흐름"><span class="mr-2">3. 전체적인 흐름</span><a href="#3-전체적인-흐름" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>이제 모든 컴포넌트는 서로를 모른 채, 오직 Player의 OnHealthChanged 시그널을 통해 상호작용한다.</ul><div class="language-c++ highlighter-rouge"><div class="code-header"> <span data-label-text="C++"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">Player</span> <span class="n">player</span><span class="p">;</span>

    <span class="c1">// 옵저버들을 생성한다. 생성자에서 자동으로 player의 이벤트를 구독한다.</span>
    <span class="n">HealthBarUI</span> <span class="n">healthBar</span><span class="p">(</span><span class="n">player</span><span class="p">);</span>
    <span class="n">SoundSystem</span> <span class="n">soundSystem</span><span class="p">(</span><span class="n">player</span><span class="p">);</span>

    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"--- 게임 시작 ---"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">player</span><span class="p">.</span><span class="n">TakeDamage</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span> <span class="c1">// player는 단지 TakeDamage를 호출할 뿐이다.</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">player</span><span class="p">.</span><span class="n">TakeDamage</span><span class="p">(</span><span class="mi">40</span><span class="p">);</span>
<span class="p">}</span>
</pre></table></code></div></div><h3 id="실행-결과"><span class="mr-2">실행 결과</span><a href="#실행-결과" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>--- 게임 시작 ---
[Player] 데미지를 입었습니다! 현재 체력: 80
[HealthBar UI] 체력 바 갱신 -&gt; 80%

[Player] 데미지를 입었습니다! 현재 체력: 40
[HealthBar UI] 체력 바 갱신 -&gt; 40%
[Sound System] 위험! 경고음 재생!
</pre></table></code></div></div><ul><li>Player는 HealthBarUI나 SoundSystem의 존재를 전혀 알지 못하지만, 이들은 Player의 상태 변화에 완벽하게 반응한다.<li>이것이 옵저버 패턴을 통한 <strong>느슨한 결합(Loose Coupling)</strong>의 힘이다.</ul><h1 id="고급-주제-스레드-안정성과-수신-해제">고급 주제: 스레드 안정성과 수신 해제</h1><ul><li><p><code class="language-plaintext highlighter-rouge">std::vector&lt;IObserver*&gt;</code>와 같은 방식으로 옵저버 패턴을 직접 구현하면 스레드 안정성이나 재진입성(옵저버가 알림을 받는 도중 스스로를 구독 해제하는 문제) 등 까다로운 문제에 직면하게 된다.</p><li><p>Boost.Signals2와 같은 라이브러리는 이러한 문제들을 내부적으로 처리해준다.</p><ul><li><code class="language-plaintext highlighter-rouge">스레드 안전성</code>: 여러 스레드에서 동시에 시그널에 연결하거나 이벤트를 발생시켜도 안전하게 동작한다.<li><code class="language-plaintext highlighter-rouge">자동 수신 해제</code>: connect 메서드는 connection 객체를 반환한다. 이 객체를 저장해두었다가 connection.disconnect()를 호출하면 안전하게 구독을 해제할 수 있다. 옵저버 객체가 소멸될 때 이 connection 객체도 함께 소멸되게 하면, 죽은 객체에 대한 알림 전송을 자동으로 방지할 수 있다.</ul></ul><h1 id="요약">요약</h1><ul><li><p>옵저버 패턴은 한 객체(주체)의 상태 변화를 여러 다른 객체(옵저버)들에게 알리기 위한 구독 메커니즘을 제공한다.</p><li><p>이 패턴의 핵심은 주체와 옵저버 간의 결합도를 낮추는 것이다. 주체는 옵저버의 구체적인 내용을 알 필요 없고, 옵저버들은 주체에 영향을 주지 않고 자유롭게 추가되거나 제거될 수 있다.</p><li><p>C++에서는 Boost.Signals2와 같은 시그널/슬롯 라이브러리를 활용하면 스레드 안정성 등 복잡한 문제를 고려하지 않고도 강력한 옵저버 패턴을 쉽게 구현할 수 있다.</p><li><p>옵저버 패턴은 UI와 데이터 모델의 동기화, 게임 내 각종 이벤트 시스템, 로그 시스템 등 “어떤 일이 발생했을 때, 여러 곳에 알려야 한다”는 요구사항이 있는 거의 모든 곳에서 사용되는 필수적인 디자인 패턴이다.</p></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4/'>디자인 패턴</a>, <a href='/categories/%ED%96%89%ED%83%9C-%ED%8C%A8%ED%84%B4/'>행태 패턴</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/design-pattern/" class="post-tag no-text-decoration" >design pattern</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%EA%B4%80%EC%B0%B0%EC%9E%90+%ED%8C%A8%ED%84%B4+-+yjh9317&url=https%3A%2F%2Fyjh9317.github.io%2Fposts%2F%25EA%25B4%2580%25EC%25B0%25B0%25EC%259E%2590-%25ED%258C%25A8%25ED%2584%25B4%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%EA%B4%80%EC%B0%B0%EC%9E%90+%ED%8C%A8%ED%84%B4+-+yjh9317&u=https%3A%2F%2Fyjh9317.github.io%2Fposts%2F%25EA%25B4%2580%25EC%25B0%25B0%25EC%259E%2590-%25ED%258C%25A8%25ED%2584%25B4%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fyjh9317.github.io%2Fposts%2F%25EA%25B4%2580%25EC%25B0%25B0%25EC%259E%2590-%25ED%258C%25A8%25ED%2584%25B4%2F&text=%EA%B4%80%EC%B0%B0%EC%9E%90+%ED%8C%A8%ED%84%B4+-+yjh9317" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Gameplay-Param/">GameplayTag Param</a><li><a href="/posts/Device/">Device</a><li><a href="/posts/SwapChain/">SwapChain</a><li><a href="/posts/VertexBuffer/">VertexBuffer</a><li><a href="/posts/IndexBuffer/">IndexBuffer</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/unreal/">unreal</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/design-pattern/">design pattern</a> <a class="post-tag" href="/tags/coding-test/">coding test</a> <a class="post-tag" href="/tags/directx/">directx</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/data-structure/">data_structure</a> <a class="post-tag" href="/tags/modern-effective-c/">modern effective c++</a> <a class="post-tag" href="/tags/directx3d/">directx3d</a> <a class="post-tag" href="/tags/python/">python</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/%EC%B1%85%EC%9E%84-%EC%82%AC%EC%8A%AC-%ED%8C%A8%ED%84%B4/"><div class="card-body"> <em class="small" data-ts="1685631600" data-df="ll" > Jun 2, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>책임 사슬 패턴</h3><div class="text-muted small"><p> 책임 사슬 패턴 요청을 처리할 수 있는 객체들의 사슬(chain)을 만들어, 요청이 처리될 때까지 이 사슬을 따라 객체들이 차례대로 요청을 확인하게 만드는 행위 디자인 패턴이다. 요청을 보낸 객체(Sender)는 어떤 객체가 그 요청을 처리할지 알 필요가 없다. 요청은 사슬의 첫 번째 객체에게 전달되고, 해당 객체는 요청을 처...</p></div></div></a></div><div class="card"> <a href="/posts/%EC%BB%A4%EB%A7%A8%EB%93%9C-%ED%8C%A8%ED%84%B4/"><div class="card-body"> <em class="small" data-ts="1685890800" data-df="ll" > Jun 5, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>커맨드 패턴</h3><div class="text-muted small"><p> 커맨드 패턴 player.Jump()처럼 객체의 메서드를 직접 호출하는 대신, ‘점프하라’는 요청(request) 또는 명령(command) 자체를 하나의 객체로 캡슐화하는 것이 커맨드 패턴(Command Pattern)의 핵심이다. 이렇게 요청을 객체로 만들면 어떤 장점이 있을까? 명령을 변수처럼 저장하거나, 큐에 ...</p></div></div></a></div><div class="card"> <a href="/posts/%EC%9D%B8%ED%84%B0%ED%94%84%EB%A6%AC%ED%84%B0-%ED%8C%A8%ED%84%B4/"><div class="card-body"> <em class="small" data-ts="1686150000" data-df="ll" > Jun 8, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>인터프리터 패턴</h3><div class="text-muted small"><p> 인터프리터 패턴 특정 ‘언어’에 대한 문법을 정의하고, 그 언어로 작성된 문장을 해석(interpret)하는 해석기를 제공하는 행위 디자인 패턴 쉽게 말해, 우리가 직접 정의한 간단한 규칙이나 언어를 이해하고 실행하는 엔진을 만드는 방법이다. 게임 개발에서는 NPC의 행동을 정의하는 간단한 스크립트, 퀘스트의 완료...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/%EC%96%B8%EB%A6%AC%EC%96%BC-%ED%94%84%EB%A0%88%EC%9E%84%EC%9B%8C%ED%81%AC/" class="btn btn-outline-primary" prompt="Older"><p>언리얼 프레임워크</p></a> <a href="/posts/%EC%83%81%ED%83%9C-%ED%8C%A8%ED%84%B4/" class="btn btn-outline-primary" prompt="Newer"><p>상태 패턴</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://twitter.com/username">Yang jeong hyeon</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div></p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/unreal/">unreal</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/design-pattern/">design pattern</a> <a class="post-tag" href="/tags/coding-test/">coding test</a> <a class="post-tag" href="/tags/directx/">directx</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/data-structure/">data_structure</a> <a class="post-tag" href="/tags/modern-effective-c/">modern effective c++</a> <a class="post-tag" href="/tags/directx3d/">directx3d</a> <a class="post-tag" href="/tags/python/">python</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
