<!DOCTYPE html><html lang="ko" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="에러 처리하기 - 1" /><meta property="og:locale" content="ko" /><meta name="description" content="익셉션 예외 상황이나 에러가 코드의 정상적인 실행 흐름에 퍼지지 않도록 알려주는 매커니즘 에러가 발생하면 익셉션을 던지고(throw), 이를 처리하는 코드는 발생한 익셉션을 받아서 처리(catch)한다. 익셉션을 던지면 프로그램의 정상 실행 흐름을 잠시 멈추고 익셉션 핸들러(예외 처리기)로 제어권을 넘긴다." /><meta property="og:description" content="익셉션 예외 상황이나 에러가 코드의 정상적인 실행 흐름에 퍼지지 않도록 알려주는 매커니즘 에러가 발생하면 익셉션을 던지고(throw), 이를 처리하는 코드는 발생한 익셉션을 받아서 처리(catch)한다. 익셉션을 던지면 프로그램의 정상 실행 흐름을 잠시 멈추고 익셉션 핸들러(예외 처리기)로 제어권을 넘긴다." /><link rel="canonical" href="https://yjh9317.github.io/posts/%EC%97%90%EB%9F%AC-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0-1/" /><meta property="og:url" content="https://yjh9317.github.io/posts/%EC%97%90%EB%9F%AC-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0-1/" /><meta property="og:site_name" content="yjh9317" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-02-06T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="에러 처리하기 - 1" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-03-28T01:06:03+09:00","datePublished":"2023-02-06T00:00:00+09:00","description":"익셉션 예외 상황이나 에러가 코드의 정상적인 실행 흐름에 퍼지지 않도록 알려주는 매커니즘 에러가 발생하면 익셉션을 던지고(throw), 이를 처리하는 코드는 발생한 익셉션을 받아서 처리(catch)한다. 익셉션을 던지면 프로그램의 정상 실행 흐름을 잠시 멈추고 익셉션 핸들러(예외 처리기)로 제어권을 넘긴다.","headline":"에러 처리하기 - 1","mainEntityOfPage":{"@type":"WebPage","@id":"https://yjh9317.github.io/posts/%EC%97%90%EB%9F%AC-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0-1/"},"url":"https://yjh9317.github.io/posts/%EC%97%90%EB%9F%AC-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0-1/"}</script><title>에러 처리하기 - 1 | yjh9317</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="yjh9317"><meta name="application-name" content="yjh9317"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> </a></div><div class="site-title mt-3"> <a href="/">yjh9317</a></div><div class="site-subtitle font-italic">코딩열심히하려는사람</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/yjh9317" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>에러 처리하기 - 1</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>에러 처리하기 - 1</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1675609200" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Feb 6, 2023 </em> </span> <span> Updated <em class="" data-ts="1679933163" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Mar 28, 2023 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/username">Yang jeong hyeon</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2597 words"> <em>14 min</em> read</span></div></div></div><div class="post-content"><h1 id="익셉션">익셉션</h1><ul><li><p>예외 상황이나 에러가 코드의 정상적인 실행 흐름에 퍼지지 않도록 알려주는 매커니즘</p><li><p>에러가 발생하면 익셉션을 던지고(throw), 이를 처리하는 코드는 발생한 익셉션을 받아서 처리(catch)한다.</p><li><p>익셉션을 던지면 프로그램의 정상 실행 흐름을 잠시 멈추고 익셉션 핸들러(예외 처리기)로 제어권을 넘긴다.</p></ul><p><br /><br /><br /></p><h2 id="c에서-익셉션이-필요한-이유"><span class="mr-2">C++에서 익셉션이 필요한 이유</span><a href="#c에서-익셉션이-필요한-이유" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><p>C나 C++ 프로그램을 보면 에러를 처리하는 방식이 제각각이고 체계가 없는 경우가 많다.</p><ul><li>함수가 정수코드를 리턴하거나 errno 매크로를 사용해 에러를 표시하는 등</ul></ul><p><br /></p><ul><li>에러 처리를 일관성 없이 구현한 함수들이 뒤섞이면 문제가 발생할 수 있다.<ul><li>호출한 함수가 예상과 다른 방식으로 코드를 리턴하기 때문</ul></ul><p><br /></p><ul><li>그리고 C++ 함수는 리턴 타입을 하나만 지정할 수 있어 에러와 결과 모두 리턴하려면 다른 수단이 필요하다.<ul><li>ex) std::pair 나 std::tuple 에 결과와 에러를 같이 묶어서 리턴하는등</ul></ul><p><br /></p><ul><li><p>익셉션 매커니즘을 활용하면 에러를 쉽고 일관성 있고 안전하게 처리할 수 있다.</p><ul><li><p>에러를 리턴값으로 표현하면 호출한 측에서 깜박하고 리턴값을 검사하지 않거나 상위 함수로 전달하지 못할 수 있다. <br />반면 익셉션은 깜박 잊고 처리하지 않거나 무시할 수 없다. ( 처리하지않으면 프로그램이 멈춤)<br /><br /></p><li><p>에러를 정수 타입 리턴 코드로 표현하면 구체적인 정보를 담기 힘들다<br /> 반면 익셉션은 에러뿐만 아니라 다른 부가 정보도 담을 수 있다.<br /><br /></p><li><p>익셉션 매커니즘은 콜 스택의 중간 단계를 건너 뛸 수 있다.<br /> 다시 말해 여러 함수가 연속적으로 호출됐을 때 중간에 호출된 함수에서 에러를 처리하지 않고<br /><br /> 콜 스택의 최상위 함수에서 에러를 처리하게 만들 수 있다.<br /> 만약 리턴 코드를 활용한다면 함소 호출의 각 단계마다 반드시 에러 코드를 다음 단계로 전달해야한다.</p></ul></ul><p><br /><br /><br /></p><h1 id="익셉션-처리-과정">익셉션 처리 과정</h1><ul><li>표준 라이브러리나 부스트 같은 유명한 라이브러린는 익셉션을 적극 활용하고 있어 라이브러리를 사용하려면 익셉션을 다루는 방법을 잘 알아야 한다.</ul><p><br /><br /><br /></p><h2 id="익셉션-던지고-받기"><span class="mr-2">익셉션 던지고 받기</span><a href="#익셉션-던지고-받기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><p>익셉션은 익셉션을 처리하는 try/catch문과 익셉션을 던지는 throw문 두 부분으로 나뉜다.</p><li><p>대부분의 라이브러리들에서 throw문은 라이브러리 깊숙한 곳에 있어 프로그래머가 직접 볼 수 없을 때가 많지만,<br /> try/catch문은 따로 작성해줘야 한다.</p></ul><p><br /><br /></p><ul><li>try / catch문의 구성</ul><div class="language-c++ highlighter-rouge"><div class="code-header"> <span data-label-text="C++"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>    <span class="k">try</span><span class="p">{</span>
      <span class="c1">// 익셉션이 발생할 수 있는 코드</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="err">익셉션</span><span class="n">_</span><span class="err">타입</span><span class="mi">1</span> <span class="err">익셉션</span><span class="n">_</span><span class="err">이름</span><span class="p">){</span>
      <span class="c1">// 익셉션_타입1 익셉션을 처리하는 코드</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="err">익셉션</span><span class="n">_</span><span class="err">타입</span><span class="mi">2</span> <span class="err">익셉션</span><span class="n">_</span><span class="err">이름</span><span class="p">){</span>
      <span class="c1">// 익셉션_타입2 익셉션을 처리하는 코드</span>
    <span class="p">}</span>
</pre></table></code></div></div><p><br /></p><ul><li>예외 상황이 발생할 수 있는 코드에 throw 문에 익셉션을 직접 던져도 된다.<li>또한 throw문으로 익셉션을 직접 던지건나 익셉션을 던지는 함수를 호출하는 문장이 담긴 함수를 호출할 수도 있다.</ul><p><br /><br /></p><ul><li>0으로 나눈 상황을 감시하는 함수</ul><div class="language-c++ highlighter-rouge"><div class="code-header"> <span data-label-text="C++"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="kt">double</span> <span class="nf">SafeDivide</span><span class="p">(</span><span class="kt">double</span> <span class="n">num</span> <span class="p">,</span> <span class="kt">double</span> <span class="n">den</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="mi">0</span> <span class="o">==</span> <span class="n">den</span><span class="p">)</span>
        <span class="k">throw</span> <span class="n">invalid_argument</span><span class="p">(</span><span class="s">"Divde by zero"</span><span class="p">);</span>
    
    <span class="k">return</span> <span class="n">num</span> <span class="o">/</span> <span class="n">den</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="k">try</span><span class="p">{</span>
    <span class="n">cout</span><span class="o">&lt;&lt;</span> <span class="n">SafeDivide</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span><span class="o">&lt;&lt;</span> <span class="n">SafeDivide</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span><span class="o">&lt;&lt;</span> <span class="n">SafeDivide</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="k">const</span> <span class="n">invalid_argument</span><span class="o">&amp;</span> <span class="n">e</span><span class="p">){</span>
    <span class="n">cout</span><span class="o">&lt;&lt;</span> <span class="s">"Caught exception: "</span> <span class="o">&lt;&lt;</span> <span class="n">e</span><span class="p">.</span><span class="n">what</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// 결과</span>
<span class="mf">2.5</span>
<span class="n">Caught</span> <span class="n">exception</span><span class="o">:</span> <span class="n">Divde</span> <span class="n">by</span> <span class="n">zero</span>
</pre></table></code></div></div><p><br /></p><ul><li><p>throw문에 나온 invalid_argument()는 던질 invalid_argument 타입의 익셉션 객체를 생성한다.</p><ul><li>invalid_argument는 C++ 표준 라이브러리에서 제공하는 표준 익셉션 중 하나</ul></ul><p><br /></p><ul><li>표준 라이브러리에 정의된 익셉션은 일정한 계층을 형성하고 있다.</ul><p><br /></p><ul><li>이 계층 구조에 속한 클래스마다 what() 메서드가 있는데, 이 메서드는 익셉션을 표현하는 const char* 스트링을 리턴한다.<ul><li>이 값은 익셉션 생성자의 인수로 전달하는 방식으로 설정한다.</ul></ul><p><br /><br /></p><ul><li>파일 입출력 과정에서의 익셉션 처리</ul><div class="language-c++ highlighter-rouge"><div class="code-header"> <span data-label-text="C++"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
</pre><td class="rouge-code"><pre><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">readIntegerFile</span><span class="p">(</span><span class="n">string_view</span> <span class="n">fileName</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">ifstream</span> <span class="n">inputStream</span><span class="p">(</span><span class="n">fileName</span><span class="p">.</span><span class="n">data</span><span class="p">());</span>
    <span class="c1">// 파일에 담긴 정수값을 하나씩 읽어서 벡터에 추가</span>

    <span class="k">if</span><span class="p">(</span><span class="n">inputStream</span><span class="p">.</span><span class="n">fail</span><span class="p">())</span>
      <span class="k">throw</span> <span class="n">exception</span><span class="p">();</span>  <span class="c1">// 파일 열기 실패 : 익셉션을 던진다.</span>


    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">integers</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">temp</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">inputStream</span> <span class="o">&gt;&gt;</span> <span class="n">temp</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">integers</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">temp</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">integers</span><span class="p">;</span>
<span class="p">}</span>


<span class="kt">int</span> <span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="n">string</span> <span class="n">fileName</span> <span class="o">=</span> <span class="s">"IntegerFile.txt"</span><span class="p">;</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">myInts</span><span class="p">;</span>
    <span class="k">try</span><span class="p">{</span>
      <span class="n">myInts</span> <span class="o">=</span> <span class="n">readIntegerFile</span><span class="p">(</span><span class="n">fileName</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="k">const</span> <span class="n">exception</span><span class="o">&amp;</span> <span class="n">e</span><span class="p">){</span>
      <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">"Unable to open file "</span> <span class="o">&lt;&lt;</span> <span class="n">fileName</span> <span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
      <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">for</span> <span class="p">(</span><span class="k">const</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="n">element</span> <span class="o">:</span> <span class="n">myInts</span><span class="p">)</span>
    <span class="p">{</span> 
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">element</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><p><br /></p><ul><li><p>&gt;&gt; 연산을 수행할 때 에러가 발생하면 ifstream 객체에 에러 플래그가 설정된다.</p><li><p>그러면 bool() 변환 연산자가 false를 리턴하면서 while 루프가 종료된다.</p><li><p>파일을 열 때 에러가 발생할 경우 std::exception 타입으로 익셉션을 생성한다.</p></ul><p><br /><br /><br /></p><h2 id="익셉션-타입"><span class="mr-2">익셉션 타입</span><a href="#익셉션-타입" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><p>던질 수 있는 익셉션의 타입에는 제한이 없다</p><li><p>하지만 기본 타입을 사용하기 보다는 새로 정의하는 것이 바람직하다.그 이유는 다음과 같다.</p><ul><li>객체의 클래스 이름에 예외 상황에 대한 정보를 드러낼 수 있다.<li>예외 상황의 종류뿐만 아니라 다른 정보도 담을 수 있다.</ul></ul><p><br /></p><ul><li>C++ 표준 라이브러리에 정의돼 있는 익셉션 클래스를 활용하거나, 익셉션 클래스를 직접 정의할 수도 있다.</ul><p><br /><br /><br /></p><h2 id="여러-가지-익셉션-던지고-받기"><span class="mr-2">여러 가지 익셉션 던지고 받기</span><a href="#여러-가지-익셉션-던지고-받기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><br /></p><ul><li>위에서의 파일 입출력 과정에서의 익셉션 처리 예시</ul><div class="language-c++ highlighter-rouge"><div class="code-header"> <span data-label-text="C++"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre><span class="c1">// readIngerFile 함수 안</span>
<span class="k">if</span><span class="p">(</span><span class="n">inputStream</span><span class="p">.</span><span class="n">fail</span><span class="p">())</span>
    <span class="k">throw</span> <span class="nf">invalid_argument</span><span class="p">(</span><span class="s">"Unable to open the file."</span><span class="p">);</span>

<span class="p">..</span>

<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">inputStream</span><span class="p">.</span><span class="n">eof</span><span class="p">()){</span>
    <span class="c1">// 파일의 끝에 도달하지 않았다.</span>
    <span class="c1">// 다시 말해 파일을 읽는 도중 에러 발생으로 익셉션을 던짐</span>
    <span class="k">throw</span> <span class="n">runtime_error</span><span class="p">(</span><span class="s">"Error reading the file"</span><span class="p">);</span>
<span class="p">}</span>

<span class="o">==========</span>
<span class="kt">int</span> <span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="p">...</span>
    <span class="k">try</span><span class="p">{</span>
        <span class="n">myInts</span> <span class="o">=</span> <span class="n">readIntegerFile</span><span class="p">(</span><span class="n">fileName</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="k">const</span> <span class="n">invalid_argument</span><span class="o">&amp;</span> <span class="n">e</span><span class="p">){</span>
        <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="n">e</span><span class="p">.</span><span class="n">what</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="k">const</span> <span class="n">runtime_error</span><span class="o">&amp;</span> <span class="n">e</span><span class="p">){</span>
        <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="n">e</span><span class="p">.</span><span class="n">what</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="k">return</span> <span class="mi">2</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p><br /></p><ul><li><p>파일을 열수 없으면 invalid_argument 익셉션을 던지고, 정수를 읽을 수 없으면 runtime_error 익셉션을 던진다.</p><li><p>runtime_error와 invalid_argument 둘다 C++ 표준 라이브러리인 &lt;stdexcept&gt; 헤더 파일에 있다.</p><li><p>runtime_error와 invalid_argument는 public 디폴트 생성자가 없고 string 인수를 받는 생성자만 있다.</p><li><p>try블록에서는 익셉션 타입과 일치하는 catch문(핸들러)을 선택한다.</p></ul><p><br /><br /><br /><br /></p><h2 id="익셉션-타입-매칭과-const"><span class="mr-2">익셉션 타입 매칭과 const</span><a href="#익셉션-타입-매칭과-const" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>처리하는 익셉션 타입에 const가 지정됐는지 여부는 매칭 과정에 영향을 미치지 않는다.<li>예를 들어 다음 문장은 runtime_error 타입에 속하는 모든 익셉션을 매칭한다.</ul><div class="language-c++ highlighter-rouge"><div class="code-header"> <span data-label-text="C++"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="c1">// 둘 다 runtime_error 타입에 속하는 모든 익셉션을 매칭</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="k">const</span> <span class="n">runtime_error</span><span class="o">&amp;</span> <span class="n">e</span><span class="p">)</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">runtime_error</span><span class="o">&amp;</span> <span class="n">e</span><span class="p">)</span>
</pre></table></code></div></div><p><br /></p><p><br /><br /><br /><br /></p><h2 id="모든-익셉션-매칭하기"><span class="mr-2">모든 익셉션 매칭하기</span><a href="#모든-익셉션-매칭하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>catch문에서 모든 종류의 익셉션에 매칭하려면 다음과 같이 작성한다.</ul><div class="language-c++ highlighter-rouge"><div class="code-header"> <span data-label-text="C++"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="p">}</span> <span class="k">catch</span> <span class="p">(...){</span>
</pre></table></code></div></div><p><br /></p><ul><li><p>…은 모든 익셉션 타입에 매칭</p><li><p>if문의 else처럼 사용할 수 있다.</p></ul><p><br /><br /><br /><br /></p><h2 id="처리하지-못한-익셉션"><span class="mr-2">처리하지 못한 익셉션</span><a href="#처리하지-못한-익셉션" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><p>프로그램에서 발생한 익셉션을 처리하는 곳이 하나도 없으면 프로그램이 종료돼버린다.</p><li><p>그래서 처리하지 못한 익셉션을 모두 잡도록 main() 함수 전체를 try/catch 구문으로 감싸는 패턴을 사용할 수도 있다.</p></ul><div class="language-c++ highlighter-rouge"><div class="code-header"> <span data-label-text="C++"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="k">try</span><span class="p">{</span>
    <span class="n">main</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>
<span class="p">}</span> <span class="k">catch</span><span class="p">(...){</span>
  <span class="p">...</span>
<span class="p">}</span>
</pre></table></code></div></div><p><br /><br /></p><ul><li><p>프로그램이 잡지 못한 익셉션을 만나면 terminate() 함수를 호출하게 만들 수도 있다.</p><li><p>이 함수는 C++에서 기본으로 제공하며, 내부적으로 &lt;cstdlib&gt;헫더에 정의된 abort() 함수를 호출한다.</p><li><p>또는 set_terminate()에 인수를 받지 않고 리턴값도 없는 콜백 함수를 포이넡로 지정하는 방식으로 terminate_handler를 직접 구현해도 된다.</p></ul><div class="language-c++ highlighter-rouge"><div class="code-header"> <span data-label-text="C++"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="k">try</span><span class="p">{</span>
    <span class="n">main</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>
<span class="p">}</span> <span class="k">catch</span><span class="p">(...){</span>
    <span class="k">if</span><span class="p">(</span><span class="nb">nullptr</span> <span class="o">!=</span> <span class="n">terminate_handler</span><span class="p">){</span>
        <span class="n">terminate_handler</span><span class="p">();</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">terminate</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p><br /></p><p><br /><br /></p><ul><li><p>위와 같이 작성하면 결국 에러를 무시하지 못하고 프로그램을 종료시켜버린다.</p><li><p>그래서 종료 직전에 유용한 정보를 담은 에러메세지를 출력할 방법도 있다.</p></ul><div class="language-c++ highlighter-rouge"><div class="code-header"> <span data-label-text="C++"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="kt">void</span> <span class="nf">myTerminate</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span><span class="s">"Uncaught exception!"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// set_terminate은 새로운 핸들러를 지정하면 기존에 설정된 핸들러는 리턴한다</span>
<span class="kt">int</span> <span class="n">main</span><span class="p">(){</span>
    <span class="n">set_terminate</span><span class="p">(</span><span class="n">myTerminate</span><span class="p">);</span> 
    <span class="p">...</span>
<span class="p">}</span>
</pre></table></code></div></div><p><br /></p><ul><li>프로세스를 종료하는 방식으로 정숫값을 인수로 받고 OS로 전달</ul><p><br /><br /></p><h2 id="noexcept"><span class="mr-2">noexcept</span><a href="#noexcept" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>함수가 던질 수 있는 익셉션의 종류에는 제한이 없지만, noexcept 키워드로 어떠한 익셉션도 던지지 않는다고 지정할 수 있다.</ul><div class="language-c++ highlighter-rouge"><div class="code-header"> <span data-label-text="C++"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">readIntegerFile</span><span class="p">(</span><span class="n">string_view</span> <span class="n">fileName</span><span class="p">)</span> <span class="k">noexcept</span><span class="p">;</span>
</pre></table></code></div></div><ul><li><p>noexcept 키워드가 지정된 함수에 익셉션을 던지는 코드가 있다면 C++ 런타임은 terminate()을 호출하여 프로그램을 종료시킨다.</p><li><p>파생 클래스에서 virtual 메서드를 오버라이드할 때 베이스 클래스의 메서드에 noexcept가 지정되지 않더라도<br /> 오버라이드하는 메서드에 noexcept를 지정할 수 있다. (반대는 불가능)</p></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/c/'>C++</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/c/" class="post-tag no-text-decoration" >C++</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%EC%97%90%EB%9F%AC+%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0+-+1+-+yjh9317&url=https%3A%2F%2Fyjh9317.github.io%2Fposts%2F%25EC%2597%2590%25EB%259F%25AC-%25EC%25B2%2598%25EB%25A6%25AC%25ED%2595%2598%25EA%25B8%25B0-1%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%EC%97%90%EB%9F%AC+%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0+-+1+-+yjh9317&u=https%3A%2F%2Fyjh9317.github.io%2Fposts%2F%25EC%2597%2590%25EB%259F%25AC-%25EC%25B2%2598%25EB%25A6%25AC%25ED%2595%2598%25EA%25B8%25B0-1%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fyjh9317.github.io%2Fposts%2F%25EC%2597%2590%25EB%259F%25AC-%25EC%25B2%2598%25EB%25A6%25AC%25ED%2595%2598%25EA%25B8%25B0-1%2F&text=%EC%97%90%EB%9F%AC+%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0+-+1+-+yjh9317" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Gameplay-Param/">GameplayTag Param</a><li><a href="/posts/Device/">Device</a><li><a href="/posts/SwapChain/">SwapChain</a><li><a href="/posts/VertexBuffer/">VertexBuffer</a><li><a href="/posts/IndexBuffer/">IndexBuffer</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/unreal/">unreal</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/design-pattern/">design pattern</a> <a class="post-tag" href="/tags/coding-test/">coding test</a> <a class="post-tag" href="/tags/directx/">directx</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/data-structure/">data_structure</a> <a class="post-tag" href="/tags/modern-effective-c/">modern effective c++</a> <a class="post-tag" href="/tags/directx3d/">directx3d</a> <a class="post-tag" href="/tags/python/">python</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC/"><div class="card-body"> <em class="small" data-ts="1656601200" data-df="ll" > Jul 1, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>라이브러리</h3><div class="text-muted small"><p> 라이브러리(Library) 라이브러리(Library)는 사용할 함수나 데이터를 실행 가능하면서 바이너리 코드화로 묶어놓은 파일을 말한다. 보통 헤더파일과 같이 사용하는데 헤더파일은 함수들의 전방 선언역할을 하고 라이브러리는 바이너리 코드로 된 cpp와같은 역할을 한다. 라이브러리는 #pragma comment(라이브러리 이름, 경로)의 형태로 #in...</p></div></div></a></div><div class="card"> <a href="/posts/%EB%B3%80%EC%88%98/"><div class="card-body"> <em class="small" data-ts="1656860400" data-df="ll" > Jul 4, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>변수</h3><div class="text-muted small"><p> 변수 데이터(값)를 저장하기 위해 프로그램에 의해 이름을 할당받은 메모리 공간를 의미한다. 변수를 사용하기 위해서는 선언 or 정의를 해야한다. 선언 : 컴파일러가 참조할 식별자와 이름을 알려주는 것 정의 : 식별자와 이름으로부터 코드를 생성하여, 함수가 호출되거나 변수를 사용할 때 생성된 코드를 참조하...</p></div></div></a></div><div class="card"> <a href="/posts/%EC%97%B0%EC%82%B0%EC%9E%90/"><div class="card-body"> <em class="small" data-ts="1657292400" data-df="ll" > Jul 9, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>연산자</h3><div class="text-muted small"><p> 연산자 연산을 수행하기 위한 기호을 의미하고, 피연산자는 연산을 행해지는 대상을 의미한다. 산술 연산자 + : 왼쪽항에 오른쪽항을 더한다 - : 왼쪽항에 오른쪽항을 뺀다 * : 왼쪽항에 오른쪽항을 곱한다 / : 왼쪽항에...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/%EC%8A%A4%ED%8A%B8%EB%A6%BC-2/" class="btn btn-outline-primary" prompt="Older"><p>스트림 - 2</p></a> <a href="/posts/%EC%97%90%EB%9F%AC-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0-2/" class="btn btn-outline-primary" prompt="Newer"><p>에러 처리하기 - 2</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://twitter.com/username">Yang jeong hyeon</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div></p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/unreal/">unreal</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/design-pattern/">design pattern</a> <a class="post-tag" href="/tags/coding-test/">coding test</a> <a class="post-tag" href="/tags/directx/">directx</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/data-structure/">data_structure</a> <a class="post-tag" href="/tags/modern-effective-c/">modern effective c++</a> <a class="post-tag" href="/tags/directx3d/">directx3d</a> <a class="post-tag" href="/tags/python/">python</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
