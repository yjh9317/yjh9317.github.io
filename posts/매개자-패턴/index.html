<!DOCTYPE html><html lang="ko" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="매개자 패턴" /><meta property="og:locale" content="ko" /><meta name="description" content="매개자 패턴" /><meta property="og:description" content="매개자 패턴" /><link rel="canonical" href="https://yjh9317.github.io/posts/%EB%A7%A4%EA%B0%9C%EC%9E%90-%ED%8C%A8%ED%84%B4/" /><meta property="og:url" content="https://yjh9317.github.io/posts/%EB%A7%A4%EA%B0%9C%EC%9E%90-%ED%8C%A8%ED%84%B4/" /><meta property="og:site_name" content="yjh9317" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-06-15T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="매개자 패턴" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-06-17T15:34:32+09:00","datePublished":"2023-06-15T00:00:00+09:00","description":"매개자 패턴","headline":"매개자 패턴","mainEntityOfPage":{"@type":"WebPage","@id":"https://yjh9317.github.io/posts/%EB%A7%A4%EA%B0%9C%EC%9E%90-%ED%8C%A8%ED%84%B4/"},"url":"https://yjh9317.github.io/posts/%EB%A7%A4%EA%B0%9C%EC%9E%90-%ED%8C%A8%ED%84%B4/"}</script><title>매개자 패턴 | yjh9317</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="yjh9317"><meta name="application-name" content="yjh9317"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> </a></div><div class="site-title mt-3"> <a href="/">yjh9317</a></div><div class="site-subtitle font-italic">코딩열심히하려는사람</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/yjh9317" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>매개자 패턴</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>매개자 패턴</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1686754800" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jun 15, 2023 </em> </span> <span> Updated <em class="" data-ts="1750142072" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jun 17, 2025 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/username">Yang jeong hyeon</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2236 words"> <em>12 min</em> read</span></div></div></div><div class="post-content"><h1 id="매개자-패턴">매개자 패턴</h1><ul><li><p>여러 객체들(동료, Colleagues) 간의 복잡한 상호작용을 <strong>중재자(Mediator)</strong>라는 단일 객체에 캡슐화하는 행위 디자인 패턴</p><li>객체들이 서로 직접 참조하고 호출하는 거미줄 같은 구조(spaghetti code) 대신, 모든 통신은 중재자를 통해서만 이루어진다.<li><p>이를 통해 객체들은 서로의 존재를 알 필요가 없어지며, 시스템의 <strong>결합도(Coupling)</strong>가 크게 낮아진다.</p><li>게임 개발에서 여러 UI 요소들이 서로 상호작용하거나, 다양한 게임 시스템들이 특정 이벤트에 반응해야 할 때, 이 패턴은 코드의 구조를 매우 깔끔하고 유지보수하기 쉽게 만들어준다.</ul><h2 id="시나리오-복잡한-ui-화면의-상호작용-관리"><span class="mr-2">시나리오: 복잡한 UI 화면의 상호작용 관리</span><a href="#시나리오-복잡한-ui-화면의-상호작용-관리" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><p>게임의 메인 메뉴 화면을 만든다고 가정해보자. 이 화면에는 다음과 같은 UI 요소(위젯)들이 있다.</p><ul><li>플레이어 이름을 입력하는 텍스트 필드(TextField)<li>‘하드 모드’를 활성화하는 체크박스(Checkbox)<li>게임을 시작하는 버튼(Button)</ul><li><p>요구사항은 다음과 같다: “시작 버튼을 누르면, 텍스트 필드에 이름이 입력되어 있을 때만 하드 모드 활성화 여부를 확인하고 게임을 시작한다.”</p></ul><h3 id="문제점-위젯-간의-직접적인-참조"><span class="mr-2">문제점: 위젯 간의 직접적인 참조</span><a href="#문제점-위젯-간의-직접적인-참조" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>매개자 패턴이 없다면, 각 위젯은 다른 위젯을 직접 참조해야 할 수 있다.</ul><div class="language-c++ highlighter-rouge"><div class="code-header"> <span data-label-text="C++"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="c1">// 안티 패턴: 위젯들이 서로 강하게 결합됨</span>
<span class="k">class</span> <span class="nc">StartButton</span> <span class="p">{</span>
<span class="nl">private:</span>
    <span class="c1">// 시작 버튼이 텍스트 필드와 체크박스를 직접 알아야 한다.</span>
    <span class="n">PlayerNameTextField</span><span class="o">*</span> <span class="n">nameField</span><span class="p">;</span>
    <span class="n">HardModeCheckbox</span><span class="o">*</span> <span class="n">hardModeCheck</span><span class="p">;</span>
<span class="nl">public:</span>
    <span class="kt">void</span> <span class="n">OnClick</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">nameField</span><span class="o">-&gt;</span><span class="n">GetText</span><span class="p">().</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span>
            <span class="kt">bool</span> <span class="n">isHard</span> <span class="o">=</span> <span class="n">hardModeCheck</span><span class="o">-&gt;</span><span class="n">IsChecked</span><span class="p">();</span>
            <span class="c1">// ... 이름과 난이도로 게임 시작 로직 호출 ...</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></table></code></div></div><ul><li>이 방식은 StartButton이 다른 두 위젯의 구체적인 타입에 의존하게 만든다.<li>만약 PlayerNameTextField가 다른 종류의 위젯으로 교체된다면 StartButton의 코드도 수정해야 한다.<li>위젯이 늘어날수록 의존 관계는 걷잡을 수 없이 복잡해진다.</ul><h2 id="해결책-uipanel-매개자-도입"><span class="mr-2">해결책: UIPanel 매개자 도입</span><a href="#해결책-uipanel-매개자-도입" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>이 문제를 해결하기 위해, 모든 위젯들의 상호작용을 중재하는 UIPanel 매개자를 도입한다.</ul><h3 id="1-동료colleague와-매개자mediator-인터페이스-정의"><span class="mr-2">1. 동료(Colleague)와 매개자(Mediator) 인터페이스 정의</span><a href="#1-동료colleague와-매개자mediator-인터페이스-정의" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>먼저 위젯과 패널이 소통할 기본적인 규약을 정의한다.</ul><div class="language-c++ highlighter-rouge"><div class="code-header"> <span data-label-text="C++"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">IWidget</span><span class="p">;</span> <span class="c1">// 전방 선언</span>

<span class="c1">// 매개자 인터페이스: 위젯으로부터 알림을 받는다.</span>
<span class="k">class</span> <span class="nc">IMediator</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="k">virtual</span> <span class="o">~</span><span class="n">IMediator</span><span class="p">()</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>
    <span class="k">virtual</span> <span class="kt">void</span> <span class="n">OnWidgetChanged</span><span class="p">(</span><span class="n">IWidget</span><span class="o">*</span> <span class="n">widget</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// 동료(위젯)의 기본 클래스</span>
<span class="k">class</span> <span class="nc">IWidget</span> <span class="p">{</span>
<span class="nl">protected:</span>
    <span class="n">IMediator</span><span class="o">*</span> <span class="n">mediator</span><span class="p">;</span>
<span class="nl">public:</span>
    <span class="n">IWidget</span><span class="p">(</span><span class="n">IMediator</span><span class="o">*</span> <span class="n">med</span><span class="p">)</span> <span class="o">:</span> <span class="n">mediator</span><span class="p">(</span><span class="n">med</span><span class="p">)</span> <span class="p">{}</span>
    <span class="k">virtual</span> <span class="o">~</span><span class="n">IWidget</span><span class="p">()</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>
    <span class="c1">// 자신의 상태가 바뀌면 매개자에게 알린다.</span>
    <span class="kt">void</span> <span class="n">Changed</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">mediator</span><span class="o">-&gt;</span><span class="n">OnWidgetChanged</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></table></code></div></div><h3 id="2-구체적인-동료concrete-colleague-구현"><span class="mr-2">2. 구체적인 동료(Concrete Colleague) 구현</span><a href="#2-구체적인-동료concrete-colleague-구현" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>이제 각 위젯은 자신의 로직에만 집중하고, 변화가 생기면 매개자에게 Changed()를 호출하여 알리기만 한다.</ul><div class="language-c++ highlighter-rouge"><div class="code-header"> <span data-label-text="C++"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Button</span> <span class="o">:</span> <span class="k">public</span> <span class="n">IWidget</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">Button</span><span class="p">(</span><span class="n">IMediator</span><span class="o">*</span> <span class="n">med</span><span class="p">)</span> <span class="o">:</span> <span class="n">IWidget</span><span class="p">(</span><span class="n">med</span><span class="p">)</span> <span class="p">{}</span>
    <span class="kt">void</span> <span class="n">Click</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Button: 클릭됨. 매개자에게 알림."</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="n">Changed</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">Checkbox</span> <span class="o">:</span> <span class="k">public</span> <span class="n">IWidget</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="kt">bool</span> <span class="n">isChecked</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
    <span class="n">Checkbox</span><span class="p">(</span><span class="n">IMediator</span><span class="o">*</span> <span class="n">med</span><span class="p">)</span> <span class="o">:</span> <span class="n">IWidget</span><span class="p">(</span><span class="n">med</span><span class="p">)</span> <span class="p">{}</span>
    <span class="kt">void</span> <span class="n">SetChecked</span><span class="p">(</span><span class="kt">bool</span> <span class="n">checked</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">isChecked</span> <span class="o">=</span> <span class="n">checked</span><span class="p">;</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Checkbox: 상태 변경됨. 매개자에게 알림."</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="n">Changed</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></table></code></div></div><h3 id="3-구체적인-매개자concrete-mediator-구현"><span class="mr-2">3. 구체적인 매개자(Concrete Mediator) 구현</span><a href="#3-구체적인-매개자concrete-mediator-구현" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>UIPanel은 모든 위젯을 소유하고, 위젯으로부터 알림이 오면 중앙에서 모든 상호작용을 조율한다.</ul><div class="language-c++ highlighter-rouge"><div class="code-header"> <span data-label-text="C++"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre><span class="c1">// 매개자 구현: 모든 위젯을 소유하고 상호작용을 제어한다.</span>
<span class="k">class</span> <span class="nc">UIPanel</span> <span class="o">:</span> <span class="k">public</span> <span class="n">IMediator</span> <span class="p">{</span>
<span class="nl">private:</span>
    <span class="n">unique_ptr</span><span class="o">&lt;</span><span class="n">Button</span><span class="o">&gt;</span> <span class="n">startButton</span><span class="p">;</span>
    <span class="n">unique_ptr</span><span class="o">&lt;</span><span class="n">Checkbox</span><span class="o">&gt;</span> <span class="n">hardModeCheckbox</span><span class="p">;</span>
    <span class="c1">// ... 다른 위젯들 ...</span>
<span class="nl">public:</span>
    <span class="n">UIPanel</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// 매개자가 위젯들을 생성하고, 자기 자신을 주입한다.</span>
        <span class="n">startButton</span> <span class="o">=</span> <span class="n">make_unique</span><span class="o">&lt;</span><span class="n">Button</span><span class="o">&gt;</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
        <span class="n">hardModeCheckbox</span> <span class="o">=</span> <span class="n">make_unique</span><span class="o">&lt;</span><span class="n">Checkbox</span><span class="o">&gt;</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// 위젯으로부터 알림이 오면, 여기서 모든 로직을 처리한다.</span>
    <span class="kt">void</span> <span class="n">OnWidgetChanged</span><span class="p">(</span><span class="n">IWidget</span><span class="o">*</span> <span class="n">widget</span><span class="p">)</span> <span class="k">override</span> <span class="p">{</span>
        <span class="c1">// 만약 변경을 알린 위젯이 시작 버튼이라면</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">widget</span> <span class="o">==</span> <span class="n">startButton</span><span class="p">.</span><span class="n">get</span><span class="p">())</span> <span class="p">{</span>
            <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"매개자: 시작 버튼 클릭을 감지함. 다른 위젯들의 상태를 확인합니다."</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
            <span class="kt">bool</span> <span class="n">isHard</span> <span class="o">=</span> <span class="n">hardModeCheckbox</span><span class="o">-&gt;</span><span class="n">isChecked</span><span class="p">;</span>
            <span class="c1">// ... 게임 시작 로직 실행 ...</span>
            <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"매개자: 게임을 "</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">isHard</span> <span class="o">?</span> <span class="s">"하드 모드"</span> <span class="o">:</span> <span class="s">"일반 모드"</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">"로 시작합니다!"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">// 테스트를 위한 위젯 접근자</span>
    <span class="n">Button</span><span class="o">*</span> <span class="n">GetStartButton</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">startButton</span><span class="p">.</span><span class="n">get</span><span class="p">();</span> <span class="p">}</span>
    <span class="n">Checkbox</span><span class="o">*</span> <span class="n">GetHardModeCheckbox</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">hardModeCheckbox</span><span class="p">.</span><span class="n">get</span><span class="p">();</span> <span class="p">}</span>
<span class="p">};</span>
</pre></table></code></div></div><ul><li>이제 Button은 Checkbox의 존재를 전혀 모른다.<li>단지 매개자인 UIPanel에 “나 눌렸어!”라고 알릴 뿐이다.<li>그러면 UIPanel이 알아서 다른 위젯들의 상태를 확인하고 다음 동작을 결정한다.<li>모든 복잡한 의존성이 매개자 안으로 캡슐화되었다.</ul><h2 id="더-나은-접근법-이벤트-브로커-event-broker"><span class="mr-2">더 나은 접근법: 이벤트 브로커 (Event Broker)</span><a href="#더-나은-접근법-이벤트-브로커-event-broker" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>매개자 패턴의 더 발전된 형태는 이벤트 브로커 또는 이벤트 버스(Event Bus) 모델이다.<li>이는 옵저버 패턴과 결합하여 훨씬 더 유연한 구조를 만든다.</ul><h3 id="1-이벤트-브로커-정의"><span class="mr-2">1. 이벤트 브로커 정의</span><a href="#1-이벤트-브로커-정의" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>게임 내 모든 이벤트를 중계하는 전역적인 허브를 만든다.<li>Boost.Signals2나 직접 구현한 시그널/슬롯 시스템을 사용할 수 있다.</ul><div class="language-c++ highlighter-rouge"><div class="code-header"> <span data-label-text="C++"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">&lt;boost/signals2.hpp&gt;</span><span class="cp">
</span>
<span class="c1">// 이벤트 정보를 담는 구조체 (다형성을 위해 상속 구조 사용 가능)</span>
<span class="k">struct</span> <span class="nc">PlayerDiedEvent</span> <span class="p">{</span> <span class="n">string</span> <span class="n">killerName</span><span class="p">;</span> <span class="p">};</span>
<span class="k">struct</span> <span class="nc">ItemPickedUpEvent</span> <span class="p">{</span> <span class="n">string</span> <span class="n">itemName</span><span class="p">;</span> <span class="p">};</span>

<span class="c1">// 이벤트 브로커 (매개자)</span>
<span class="k">class</span> <span class="nc">GameEventBus</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">boost</span><span class="o">::</span><span class="n">signals2</span><span class="o">::</span><span class="n">signal</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="n">PlayerDiedEvent</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">onPlayerDied</span><span class="p">;</span>
    <span class="n">boost</span><span class="o">::</span><span class="n">signals2</span><span class="o">::</span><span class="n">signal</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="n">ItemPickedUpEvent</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">onItemPickedUp</span><span class="p">;</span>
<span class="p">};</span>
</pre></table></code></div></div><h3 id="2-분리된-시스템들-동료"><span class="mr-2">2. 분리된 시스템들 (동료)</span><a href="#2-분리된-시스템들-동료" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>이제 각 게임 시스템은 서로를 전혀 모른 채, 오직 GameEventBus에만 의존하여 이벤트를 발행(publish)하거나 구독(subscribe)한다.</ul><div class="language-c++ highlighter-rouge"><div class="code-header"> <span data-label-text="C++"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre><td class="rouge-code"><pre><span class="c1">// 퀘스트 시스템</span>
<span class="k">class</span> <span class="nc">QuestSystem</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">QuestSystem</span><span class="p">(</span><span class="n">GameEventBus</span><span class="o">&amp;</span> <span class="n">bus</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// '전설의 검'을 줍는 이벤트가 발생하면 퀘스트를 완료 처리한다.</span>
        <span class="n">bus</span><span class="p">.</span><span class="n">onItemPickedUp</span><span class="p">.</span><span class="n">connect</span><span class="p">([</span><span class="o">&amp;</span><span class="p">](</span><span class="n">ItemPickedUpEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">itemName</span> <span class="o">==</span> <span class="s">"Legendary Sword"</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"[퀘스트 시스템]: '전설의 검 찾기' 퀘스트 완료!"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// 사운드 시스템</span>
<span class="k">class</span> <span class="nc">SoundSystem</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">SoundSystem</span><span class="p">(</span><span class="n">GameEventBus</span><span class="o">&amp;</span> <span class="n">bus</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 아이템을 줍는 이벤트가 발생하면 효과음을 재생한다.</span>
        <span class="n">bus</span><span class="p">.</span><span class="n">onItemPickedUp</span><span class="p">.</span><span class="n">connect</span><span class="p">([</span><span class="o">&amp;</span><span class="p">](</span><span class="n">ItemPickedUpEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"[사운드 시스템]: 아이템 획득 효과음 재생!"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// 플레이어</span>
<span class="k">class</span> <span class="nc">Player</span> <span class="p">{</span>
    <span class="n">GameEventBus</span><span class="o">&amp;</span> <span class="n">bus</span><span class="p">;</span>
<span class="nl">public:</span>
    <span class="n">Player</span><span class="p">(</span><span class="n">GameEventBus</span><span class="o">&amp;</span> <span class="n">bus</span><span class="p">)</span> <span class="o">:</span> <span class="n">bus</span><span class="p">(</span><span class="n">bus</span><span class="p">)</span> <span class="p">{}</span>
    <span class="kt">void</span> <span class="n">PickUpItem</span><span class="p">(</span><span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span> <span class="n">itemName</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">플레이어가 "</span> <span class="o">&lt;&lt;</span> <span class="n">itemName</span> <span class="o">&lt;&lt;</span> <span class="s">"을(를) 주웠다."</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="c1">// 플레이어는 이벤트를 발행하기만 할 뿐, 누가 이 이벤트를 받는지 모른다.</span>
        <span class="n">bus</span><span class="p">.</span><span class="n">onItemPickedUp</span><span class="p">(</span><span class="n">ItemPickedUpEvent</span><span class="p">{</span><span class="n">itemName</span><span class="p">});</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></table></code></div></div><ul><li>플레이어가 아이템을 주우면, Player는 그저 GameEventBus에 “아이템 주웠다”는 신호를 보낸다.<li>그러면 이 신호를 구독하고 있던 QuestSystem과 SoundSystem이 각자 알아서 자신의 할 일을 처리한다.<li>세 시스템은 서로의 존재를 전혀 모른 채 완벽하게 분리되어 동작한다.</ul><h1 id="요약">요약</h1><ul><li><p>매개자 패턴은 객체 간의 복잡한 상호작용을 중앙의 중재자 객체에 위임하여, 객체들 간의 직접적인 참조를 없애는 패턴이다.</p><li><p>이를 통해 객체 간의 결합도를 낮추고, 각 객체는 자신의 책임에만 집중할 수 있게 되어 재사용성이 높아진다.</p><li><p>이벤트 브로커 방식은 매개자 패턴의 더 발전된 형태로, 시그널/슬롯 메커니즘을 이용해 시스템을 극도로 유연하고 확장 가능하게 만든다.</p><li><p>복잡한 상호작용이 필요한 UI 시스템, 여러 게임 시스템에 걸쳐 영향을 주는 이벤트 처리 등에서 매개자 패턴은 코드의 구조를 단순하고 명확하게 유지하는 데 매우 효과적인 해결책이다.</p></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4/'>디자인 패턴</a>, <a href='/categories/%ED%96%89%ED%83%9C-%ED%8C%A8%ED%84%B4/'>행태 패턴</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/design-pattern/" class="post-tag no-text-decoration" >design pattern</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%EB%A7%A4%EA%B0%9C%EC%9E%90+%ED%8C%A8%ED%84%B4+-+yjh9317&url=https%3A%2F%2Fyjh9317.github.io%2Fposts%2F%25EB%25A7%25A4%25EA%25B0%259C%25EC%259E%2590-%25ED%258C%25A8%25ED%2584%25B4%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%EB%A7%A4%EA%B0%9C%EC%9E%90+%ED%8C%A8%ED%84%B4+-+yjh9317&u=https%3A%2F%2Fyjh9317.github.io%2Fposts%2F%25EB%25A7%25A4%25EA%25B0%259C%25EC%259E%2590-%25ED%258C%25A8%25ED%2584%25B4%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fyjh9317.github.io%2Fposts%2F%25EB%25A7%25A4%25EA%25B0%259C%25EC%259E%2590-%25ED%258C%25A8%25ED%2584%25B4%2F&text=%EB%A7%A4%EA%B0%9C%EC%9E%90+%ED%8C%A8%ED%84%B4+-+yjh9317" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Gameplay-Param/">GameplayTag Param</a><li><a href="/posts/Device/">Device</a><li><a href="/posts/SwapChain/">SwapChain</a><li><a href="/posts/VertexBuffer/">VertexBuffer</a><li><a href="/posts/IndexBuffer/">IndexBuffer</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/unreal/">unreal</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/design-pattern/">design pattern</a> <a class="post-tag" href="/tags/coding-test/">coding test</a> <a class="post-tag" href="/tags/directx/">directx</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/data-structure/">data_structure</a> <a class="post-tag" href="/tags/modern-effective-c/">modern effective c++</a> <a class="post-tag" href="/tags/directx3d/">directx3d</a> <a class="post-tag" href="/tags/python/">python</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/%EC%B1%85%EC%9E%84-%EC%82%AC%EC%8A%AC-%ED%8C%A8%ED%84%B4/"><div class="card-body"> <em class="small" data-ts="1685631600" data-df="ll" > Jun 2, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>책임 사슬 패턴</h3><div class="text-muted small"><p> 책임 사슬 패턴 요청을 처리할 수 있는 객체들의 사슬(chain)을 만들어, 요청이 처리될 때까지 이 사슬을 따라 객체들이 차례대로 요청을 확인하게 만드는 행위 디자인 패턴이다. 요청을 보낸 객체(Sender)는 어떤 객체가 그 요청을 처리할지 알 필요가 없다. 요청은 사슬의 첫 번째 객체에게 전달되고, 해당 객체는 요청을 처...</p></div></div></a></div><div class="card"> <a href="/posts/%EC%BB%A4%EB%A7%A8%EB%93%9C-%ED%8C%A8%ED%84%B4/"><div class="card-body"> <em class="small" data-ts="1685890800" data-df="ll" > Jun 5, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>커맨드 패턴</h3><div class="text-muted small"><p> 커맨드 패턴 player.Jump()처럼 객체의 메서드를 직접 호출하는 대신, ‘점프하라’는 요청(request) 또는 명령(command) 자체를 하나의 객체로 캡슐화하는 것이 커맨드 패턴(Command Pattern)의 핵심이다. 이렇게 요청을 객체로 만들면 어떤 장점이 있을까? 명령을 변수처럼 저장하거나, 큐에 ...</p></div></div></a></div><div class="card"> <a href="/posts/%EC%9D%B8%ED%84%B0%ED%94%84%EB%A6%AC%ED%84%B0-%ED%8C%A8%ED%84%B4/"><div class="card-body"> <em class="small" data-ts="1686150000" data-df="ll" > Jun 8, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>인터프리터 패턴</h3><div class="text-muted small"><p> 인터프리터 패턴 특정 ‘언어’에 대한 문법을 정의하고, 그 언어로 작성된 문장을 해석(interpret)하는 해석기를 제공하는 행위 디자인 패턴 쉽게 말해, 우리가 직접 정의한 간단한 규칙이나 언어를 이해하고 실행하는 엔진을 만드는 방법이다. 게임 개발에서는 NPC의 행동을 정의하는 간단한 스크립트, 퀘스트의 완료...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/%EB%B0%98%EB%B3%B5%EC%9E%90-%ED%8C%A8%ED%84%B4/" class="btn btn-outline-primary" prompt="Older"><p>반복자 패턴</p></a> <a href="/posts/%EB%A9%94%EB%A9%98%ED%86%A0-%ED%8C%A8%ED%84%B4/" class="btn btn-outline-primary" prompt="Newer"><p>메멘토 패턴</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://twitter.com/username">Yang jeong hyeon</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div></p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/unreal/">unreal</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/design-pattern/">design pattern</a> <a class="post-tag" href="/tags/coding-test/">coding test</a> <a class="post-tag" href="/tags/directx/">directx</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/data-structure/">data_structure</a> <a class="post-tag" href="/tags/modern-effective-c/">modern effective c++</a> <a class="post-tag" href="/tags/directx3d/">directx3d</a> <a class="post-tag" href="/tags/python/">python</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
