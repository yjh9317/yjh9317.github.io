---
title: Timer
date: 2023-07-08
categories: [unreal,unreal]
tags: [unreal]		# TAG는 반드시 소문자로 이루어져야함!
---

**Timer**
=============

* Timer는 글로벌 (`FTimerManager 유형`인) `Timer Manager`(타이머 매니저)에서 관리한다.

* `FTimerManager`는 GameInstance와 World에 존재한다.

* Timer는 C++ 함수 포인터, TFunction Objects, Delegate와 함께 사용할 수 있다.


<br>

**FTimerManager의 SetTimer**
--------------

* FTimerManager 의 SetTimer 함수는 딜레이 후 함수나 델리게이트를 호출하는 타이머를 설정한다.

* 인자에 bool값으로 무한 루프를 설정할 수도 있다.


```c++
// MyActor.h
protected:
    // Timer를 관리하는 핸들로,SetTimer를 호출시키면 핸들에서 저장하고 관리한다.
    FTimerHandle MemberTimerHandle;

// MyActor.cpp
void AMyActor::BeginPlay()
{
    Super::BeginPlay();
    // RepeatingFunction 을 초당 1 회, 지금부터 2 초간 호출합니다.
    GetWorldTimerManager().SetTimer(MemberTimerHandle, this, &AMyActor::RepeatingFunction, 1.0f, true, 2.0f);
}

void AMyActor::RepeatingFunction()
{
    // 이 함수를 충분히 호출했으면, 타이머를 해제합니다.
    if (--RepeatingCallsRemaining <= 0)
    {
        // MemberTimerHandle을 Clear해서 타이머를 해제한다.
        GetWorldTimerManager().ClearTimer(MemberTimerHandle);

        // MemberTimerHandle 은 이제 다른 타이머에 재사용 가능합니다.
    }
    // 여기서 어떤 작업을 합니다...
}
```

**예시**
============

* 예비군 갔다와서 추가할 예정..