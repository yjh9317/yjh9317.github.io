---
title: 전처리기
date: 2022-08-11
categories: [C++,C++]
tags: [C++]		# TAG는 반드시 소문자로 이루어져야함!
---

전처리기 단계
===============
* C++로 작성된 소스코드를 프로그램으로 만드는 빌드 작업은 세단계로
  1. 전처리 단계에서는 소스 코드에 담긴 메타 정보를 처리한다.
  2. 이어서 컴파일 단계에서는 소스코드를 머신이 읽을 수 있는 오브젝트(목적)파일로 변환한다.
  3. 마지막 링크 단계에서는 앞에서 변환한 여러 오브젝트 파일을 애플리케이션으로 엮는다.

<br><br>

지시자
==============

* 지시자란 전처리기에 전달할 사항을 표현하며 #문자로 시작함<br>
* 흔히 사용하는 #include도 지시자중 하나로 헤더 파일에 있는 내용을 현재 파일에서 사용할 수 있게 모두 가져오도록 전처리기에 지시<br>

* 헤더 파일은 주로 나중에 소스 파일에서 구현할 함수를 선언하는 용도<br>
* 함수 선언부는 함수의 호출방식, 매개변수의 개수와 타입, 리턴 타입 등만 컴파일러에 알려주고,<br> 그 함수가 실제로 수행할 동작은 구현부(defenition)에서 작성함.

<br><br>

* 결론: C++에서 선언은 확장자가 .h인 헤더파일에 작성하고, 구현은 확장자가 .cpp인 소스파일에서 작성
* iostream 헤더파일은 c++에서 제공하는 입력 및 출력 메커니즘을 선언.

<br><br>

전처리 지시자 표
===================


|전처리지시자|기능|사용 예|
|------------|---|--------|
|#include [파일]|지정한 파일의 내용을 지시자 위치에 넣는다.|다른 곳에 정의된 함수를 사용할 목적으로 해당 함수의 선언문이 담긴 헤더파일을 가져옴|
|#define [키] [값]|코드에서 '키'에 해당하는 부분을 값으로 바꿈|상숫값,매크로 정의|
|#ifdef [키]<br>#endif<br>#ifndef [키]<br>#endif|'키'가 #define문으로 정의 됐는지에 따라 포함하거나 제외|주로 인클루드 문장이 중복해서 추가되는것을 방지|
|#pragma [xyz]|xyz에 대한 동작은 컴파일러마다 다름,<br>주로 경고 or 에러메세지|밑에 예제|


    중복 인클루드를 막는 용도

```C++
    1.
    #ifndef MYHEADER_H
    #define MYHEADER_H
    //... 헤더 파일에 담을 내용
    #endif

    2.
    위와 같은 표현
    #pragma once
    // ... 헤더 파일에 담을 내용
```

<br><br>

C와 C++ 확장자
=================
C의 표준 라이브러리의 헤더파일은 대부분 .h를 사용하고 네임스페이스를 사용하지 않음<br>
반면 C++의 표준 라이브러리는 .h를 생략하고 std 네임스페이스 또는 std 하위 네임스페이스 아래에 정의함<br>

<br>
C에서 사용하던 표준 라이브러리 헤더를 C++에서도 사용하는데 형태가 다름.

  1. 새로 제공되는 권장버전은 접두어c가 붙음
  2. 예전버전은 .h 그대로 사용


<br><br>
